    //<MLS_ENTITY_LIGHTING_SAMLE_SINGLE_LIGHTMAP_ADDITIONS>
    // Original code
    /*if (encodedLightmap)
    {
        real4 encodedIlluminance = SAMPLE_TEXTURE2D(lightmapTex, lightmapSampler, uv).rgba;
        illuminance = DecodeLightmap(encodedIlluminance, decodeInstructions);
    }
    else
    {
        illuminance = SAMPLE_TEXTURE2D(lightmapTex, lightmapSampler, uv).rgb;
    }*/

    // Magic Lightmap Switcher
    if (encodedLightmap)
    {
        real4 encodedIlluminance = lerp(
            SAMPLE_TEXTURE2D(lightmapTex, lightmapSampler, uv).rgba,
            BlendTwoTextures(0, uv).rgba,
            _MLS_ENABLE_LIGHTMAPS_BLENDING);

        illuminance = DecodeLightmap(encodedIlluminance, decodeInstructions);        
    }
    else
    {
        illuminance = lerp(
            SAMPLE_TEXTURE2D(lightmapTex, lightmapSampler, uv).rgb,
            BlendTwoTextures(0, uv).rgb,
            _MLS_ENABLE_LIGHTMAPS_BLENDING);              
    }
    //</MLS_ENTITY_LIGHTING_SAMLE_SINGLE_LIGHTMAP_ADDITIONS>